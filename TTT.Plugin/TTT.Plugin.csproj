<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <TargetFramework>net8.0</TargetFramework>
        <ImplicitUsings>enable</ImplicitUsings>
        <Nullable>enable</Nullable>
        <DockerDefaultTargetOS>Linux</DockerDefaultTargetOS>
        <RootNamespace>TTT.Core</RootNamespace>
    </PropertyGroup>
    <ItemGroup>
        <PackageReference Include="CounterStrikeSharp.API" Version="1.0.328"/>
    </ItemGroup>
    <ItemGroup>
        <Compile Remove="tools\**"/>
    </ItemGroup>
    <ItemGroup>
        <EmbeddedResource Remove="tools\**"/>
    </ItemGroup>
    <ItemGroup>
        <None Remove="tools\**"/>
    </ItemGroup>
    <ItemGroup>
        <ProjectReference Include="..\TTT.Api\TTT.Api.csproj"/>
        <ProjectReference Include="..\TTT.CS2\TTT.CS2.csproj"/>
    </ItemGroup>


    <Target Name="GenerateGitVersionInformation" BeforeTargets="BeforeBuild">
        <!-- Run dotnet-gitversion -->
        <Exec Command="dotnet-gitversion &quot;$(ProjectDir)&quot; > &quot;$(ProjectDir)gitversion.json&quot;"/>

        <!-- Run the generator project -->
        <Exec Command="dotnet run --project &quot;../tools/GenerateGitVersion/GenerateGitVersion.csproj&quot;"/>
    </Target>

</Project>
